//By Wavechaser
//Patches thermal systems

@PART[radialEngineBody]		//Engine Precooler
{
	@mass = 0.5
	
	!MODULE[ModuleResourceIntake]	{}
	
	!RESOURCE[IntakeAir]	{}
	
	@RESOURCE[LiquidFuel]
	{
		@name = precooledLOX
		@amount = 80
		@maxAmount = 80
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = precooledLOX
		StartActionName = Start Precooling
		StopActionName = Stop Precooling
		AutoShutdown = false
		
		GeneratesHeat = true
		DefaultShutoffTemp = .8
		ThermalEfficiency 
		{
			key = 0 0 0 0
			key = 500 1.0 0 0
			key = 1000 0.75 0 0
			key = 1250 0.1 0 0
			key = 3000 0 0 0 
	    }
		
		UseSpecialistBonus = false

		 INPUT_RESOURCE
		 {
			ResourceName = IntakeAir
			Ratio = 10
		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 1
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = precooledLOX
			Ratio = 1
			DumpExcess = true
		}
	}
	
	MODULE
	{
		name = ModuleResourceConverter
		ConverterName = oxidizer				//SABREã€€Precooler precools, it doesn't condense. I just added this for convenience for no obvious reasons
		StartActionName = Start Condensing
		StopActionName = Stop Condensing
		AutoShutdown = false
		
		GeneratesHeat = false
		
		UseSpecialistBonus = false

		 INPUT_RESOURCE
		 {
			ResourceName = precooledLOX
			Ratio = 1.5
		 }
		 INPUT_RESOURCE
		 {
			ResourceName = ElectricCharge
			Ratio = 1
		 }
		 OUTPUT_RESOURCE
		 {
			ResourceName = precooledLOX
			Ratio = 1
			DumpExcess = true
		}
	}
}
